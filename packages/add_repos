#!/usr/bin/env bash
#
# add repositories

. ../resources/functions

# atom
info "atom"
gpg --fetch-keys https://packagecloud.io/AtomEditor/atom/gpgkey &>> log &&
  gpg --export -a 0A0FAB860D48560332EFB581B75442BBDE9E3B09 | sudo apt-key add - &>> log &&
    echo deb [arch=amd64] https://packagecloud.io/AtomEditor/atom/any/ any main | sudo tee /etc/apt/sources.list.d/atom.list &>> log &&
      success "atom" ||
        fail "atom"

# spotify
info "spotify"
gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0DF731E45CE24F27EEEB1450EFDC8610341D9410 &>> log &&
  gpg --export -a 0DF731E45CE24F27EEEB1450EFDC8610341D9410 | sudo apt-key add - &>> log &&
    echo deb http://repository.spotify.com stable non-free | sudo tee /etc/apt/sources.list.d/spotify.list &>> log &&
      success "spotify" ||
        fail "spotify"

# r
info r
gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys E084DAB9 &>> log &&
  gpg --export -a E084DAB9 | sudo apt-key add - &>> log &&
    echo deb https://cloud.r-project.org//bin/linux/ubuntu artful/ | sudo tee /etc/apt/sources.list.d/r.list &>> log &&
      success "r" ||
        fail "r"
